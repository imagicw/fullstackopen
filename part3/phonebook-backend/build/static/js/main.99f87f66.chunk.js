(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(1),u=t.n(r),a=t(14),o=t.n(a),i=t(3),s=function(e){var n=e.handleFilter;return Object(c.jsxs)("div",{children:["filter shown with ",Object(c.jsx)("input",{onChange:n})]})},l=function(e){var n=e.persons,t=e.handleDelete;return Object(c.jsx)(c.Fragment,{children:n.map((function(e){return Object(c.jsxs)("div",{children:[e.name," ",e.number," ",Object(c.jsx)("button",{onClick:function(){return n=e.id,c=e.name,void(window.confirm("delete ".concat(c))&&t(n));var n,c},children:"delete"})]},e.name)}))})},d=function(e){var n=e.handleNewPerson,t=e.handleNewName,r=e.handleNewNumber,u=e.newName,a=e.newNumber;return Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:u,onChange:t})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{value:a,onChange:r})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var n=e.message,t=e.messageType;return null===n?null:Object(c.jsx)("div",{className:t,children:n})},b=t(4),h=t.n(b),f="/api/persons",m={getAll:function(){return h.a.get(f).then((function(e){return e.data}))},create:function(e){return h.a.post(f,e).then((function(e){return e.data}))},update:function(e,n){return h.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},del:function(e){return h.a.delete("".concat(f,"/").concat(e))}},O=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],u=n[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),b=o[0],h=o[1],f=Object(r.useState)(""),O=Object(i.a)(f,2),p=O[0],v=O[1],w=Object(r.useState)(""),x=Object(i.a)(w,2),g=x[0],N=x[1],S=Object(r.useState)(null),T=Object(i.a)(S,2),k=T[0],y=T[1],C=Object(r.useState)(null),A=Object(i.a)(C,2),D=A[0],F=A[1];Object(r.useEffect)((function(){m.getAll().then((function(e){u(e)}))}),[]);var P=t.filter((function(e){return e.name.toLowerCase().indexOf(g.toLowerCase())>-1}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(j,{message:k,messageType:D}),Object(c.jsx)(s,{handleFilter:function(e){return N(e.target.value)}}),Object(c.jsx)("h3",{children:"add a new"}),Object(c.jsx)(d,{handleNewName:function(e){return h(e.target.value)},handleNewNumber:function(e){return v(e.target.value)},handleNewPerson:function(e){e.preventDefault();var n={name:b,number:p},c=t.find((function(e){return e.name===b}));c?window.confirm("".concat(b," is already added to phonebook, replace the old number with a new one?"))&&m.update(c.id,n).then((function(e){u(t.map((function(n){return n.id!==c.id?n:e}))),h(""),v(""),y("updated ".concat(c.name," with ").concat(n.number)),F("success"),setTimeout((function(){return y(null)}),3e3)})).catch((function(e){y(e.response.data.error),F("error"),setTimeout((function(){return y(null)}),3e3)})):m.create(n).then((function(e){u(t.concat(e)),h(""),v(""),y("Added ".concat(n.name)),F("success"),setTimeout((function(){return y(null)}),3e3)})).catch((function(e){y(e.response.data.error),F("error"),setTimeout((function(){return y(null)}),3e3)}))},newName:b,newNumber:p}),Object(c.jsx)("h3",{children:"Numbers"}),Object(c.jsx)(l,{persons:P,handleDelete:function(e){m.del(e).then((function(){var n=t.filter((function(n){return n.id!==e}));u(n),y("delete successfully"),F("success"),setTimeout((function(){return y(null)}),3e3)})).catch((function(e){y("deleting failed"),F("error"),setTimeout((function(){return y(null)}),3e3)}))}})]})};t(37);o.a.render(Object(c.jsx)(u.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.99f87f66.chunk.js.map